@model AllTasks;
@{
    ViewData["Title"] = "Home Page";
}



@if (User.Identity.IsAuthenticated)
{
    <div class=" d-flex justify-content-end me-2 mb-2">
        <a asp-controller="MyTask" asp-action="CreateTask" class="btn btn-light">Add Task</a>

    </div>
    <div class="container text-center ">
        <div class="row d-flex justify-content-evenly mx-auto">

            <div class="lists-div rounded-3 col-md-3 me-1 col-ms-8 d-flex flex-column mb-2 " style="height: 600px; overflow-y: auto;">
                <h6 class="p-2"> ToDo</h6>
                <div class="d-flex flex-column justify-content-around flex-md-wrap align-content-center text-center pb-2 mx-auto">
                    @if (Model.ToDo != null)
                    {
                        foreach (var item in Model.ToDo)
                        {
                            <div class="card  shadow-sm  p-1 rounded" >
                                <h6 class="card-header d-flex justify-content-end pr-0">



                                    <a class="p-1 " asp-controller="MyTask" asp-action="UpdateTask" asp-route-id="@item.MyTaskId">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                                        </svg>
                                    </a>
                                    <a class="p-1 " asp-controller="MyTask" asp-action="DeleteTask" asp-route-id="@item.MyTaskId" onclick="return confirm('Are You Sure that You Want To Delete This Task ?')">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                        </svg>
                                    </a>
                                </h6>
                                <div class="card-body mb-1">
                                    <h6 class="card-title">@item.TaskName</h6>
                                    <h6 class="card-subtitle mb-2 text-muted">@item.Date.ToShortDateString()</h6>
                                    <p class="card-text" style="height:4rem; overflow-y: auto;">@item.TaskDescription</p>

                                </div>
                            </div>
                        }

                    }
                </div>

            </div>

            <div class="lists-div rounded-3  col-md-3 me-1 col-ms-10 d-flex flex-column  mb-2" style="height: 600px; overflow-y: auto;">
                <h6 class="p-2"> Doing</h6>
                <div class="d-flex flex-column justify-content-around align-content-center text-center pb-2 mx-auto">

                    @if (Model.Doing != null)
                    {

                        foreach (var item in Model.Doing)
                        {
                            <div class="card  shadow-sm  p-1 rounded mb-1" >
                                <h6 class="card-header d-flex justify-content-end pr-0">



                                    <a class="p-1 " asp-controller="MyTask" asp-action="UpdateTask" asp-route-id="@item.MyTaskId">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                                        </svg>
                                    </a>
                                    <a class="p-1 " asp-controller="MyTask" asp-action="DeleteTask" asp-route-id="@item.MyTaskId" onclick="return confirm('Are You Sure that You Want To Delete This Task ?')">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                        </svg>
                                    </a>
                                </h6>
                                <div class="card-body">
                                    <h6 class="card-title">@item.TaskName</h6>
                                    <h6 class="card-subtitle mb-2 text-muted">@item.Date.ToShortDateString()</h6>
                                    <p class="card-text" style="height:4rem; overflow-y: auto;">@item.TaskDescription</p>
                                </div>
                            </div>
                        }


                    }
                </div>

            </div>

            <div class="lists-div rounded-3 col-md-3 col-ms-10 d-flex flex-column  mb-2" style="height: 600px; overflow-y: auto;">
                <h6 class="p-2"> Done</h6>
                <div class="d-flex flex-column justify-content-around align-content-center text-center pb-2 mx-auto">

                    @if (Model.Done != null)
                    {

                        foreach (var item in Model.Done)
                        {
                            <div class="card  shadow-sm  p-1 rounded" >
                                <h6 class="card-header d-flex justify-content-end pr-0">



                                    <a class="p-1 " asp-controller="MyTask" asp-action="UpdateTask" asp-route-id="@item.MyTaskId">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                                        </svg>
                                    </a>
                                    <a class="p-1 " asp-controller="MyTask" asp-action="DeleteTask" asp-route-id="@item.MyTaskId" onclick="return confirm('Are You Sure that You Want To Delete This Task ?')">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                        </svg>
                                    </a>
                                </h6>
                                <div class="card-body">
                                    <h6 class="card-title">@item.TaskName</h6>
                                    <h6 class="card-subtitle mb-2 text-muted">@item.Date.ToShortDateString()</h6>
                                    <p class="card-text" style="height:4rem; overflow-y: auto;">@item.TaskDescription</p>

                                </div>
                            </div>
                        }
                    }
                </div>
            </div>

        </div>
    </div>
}

@if (!User.Identity.IsAuthenticated)
{
    <div class="container m-auto d-flex flex-column justify-content-center align-items-center mt-lg-5 pt-lg-5">

        <h1 class="text-light" style="color:wheat"> welcome to My Tasks Login to see Your Taskes</h1>
        <p class="small fw-bold mt-2 pt-1 mb-0 text-light" style="font-size: 16px">
            Don't have an account?
            <a asp-controller="Auth" asp-action="SignUp" style="color:#1A76D1">Sign Up</a>
        </p>
    </div>
}




